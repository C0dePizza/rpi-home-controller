{% extends "base.html" %}

{% import "macros.html" as m %}

{% block title %}Home{% endblock %}

{% block nav_home_active %}active{% endblock %}

{% block content %}

<div id='content' class='row'>

    {% for address in data.Web.Groups %}
    <div class="address" id="{{ address[0] }}">
        {% for group in address %}
        
        {% if group.description and group.gpiopin %}
            <div class='switch'>

                
                    {% call m.card(data) %}
                        <label class="waves-effect {{ data.Web.UI.WaveType }}" style="width:100%">
                            
                            <div class='divider-spacer'></div>

                            <div>
                                <div class="label-description-container">
                                    {% if data.Web.UI.LabelColor[0] == "#" %}
                                        <span class="switchlabel" style="color:{{ data.Web.UI.LabelColor }}">{{ group.description }}</span>
                                    {% else %}
                                        <span class="switchlabel {{ data.Web.UI.LabelColor }}">{{ group.description }}</span>
                                    {% endif %}
                                </div>
                                <div class="levercontainer">
                                    <input type="checkbox" name="{{ group.gpiopin }}" id="{{ group.description }}" onclick="switch_onclick(this)">
                                    <span class="lever"></span>
                                </div>
                            </div>

                            <div class='divider-spacer'></div>
                            
                        </label>
					{% endcall %}
                    
            </div>
        {% endif %}
        
        {% endfor %}
    </div>
    {% endfor %}
	
    <div class="row">
        <div class="divider col offset-s1 s10"></div>
    </div>
    
	{% for person in data.Web.People %}
	    <div class='person'>
		{% call m.card(data) %}
            <label class="waves-effect {{ data.Web.UI.WaveType }}" style="width:100%">
                
                <div class='divider-spacer'></div>

                <div>
                    <div class="label-description-container">
                        {% if data.Web.UI.LabelColor[0] == "#" %}
                            <span class="personlabel" style="color:{{ data.Web.UI.LabelColor }}">{{ person.name }}</span>
                        {% else %}
                            <span class="personlabel {{ data.Web.UI.LabelColor }}">{{ person.name }}</span>
                        {% endif %}
                    </div>
                    <div style="float:right; display:inline; margin-right:20px">
                        {% if data.Web.UI.LabelColor[0] == "#" %}
                            <span id='{{ person.name }}_io' style="color:{{ data.Web.UI.LabelColor }}">OUT</span>
                        {% else %}
                            <span id='{{ person.name }}_io' class="{{ data.Web.UI.LabelColor }}">OUT</span>
                        {% endif %}
                    </div>
                </div>

                <div class='divider-spacer'></div>
                
            </label>
	
	    {% endcall %}
		</div>
	{% endfor %}
	
</div>

<style>
    div.divider-spacer {
        height: 1.5em;
        background-color: transparent;
    }
    
    div label span {
        font-size: 2em;
    }
    
    div.label-description-container {
        margin-left: 20px;
        display: inline;
    }
    
    div.switch label div.levercontainer {
        margin-top: 5px;
        display: inline;
        float: right;
    }
    
    .switch label .lever::after {
        background-color: {{ data.Web.UI.SwitchKnobColorOff }};
    }
    
    .switch label input[type=checkbox]:checked + .lever::after {
        background-color: {{ data.Web.UI.SwitchKnobColorOn }};
    }
    
    .switch label .lever {
        background-color: {{ data.Web.UI.SwitchBGColorOff }};
    }
    
    .switch label input[type=checkbox]:checked + .lever {
        background-color: {{ data.Web.UI.SwitchBGColorOn }};
    }
    
    .waves-effect.waves-holo .waves-ripple {
        background-color: rgba(0, 153, 204, 0.5);
    }
</style>

{% endblock %}